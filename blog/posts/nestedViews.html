<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"></meta>
	<title>nested views with angular-ui-router</title>
</head>
<body>
	<p>In the project my group was working on this week, <a href="https://bondfire2.firebaseapp.com">Bondfire</a>, we utilized the <a href="https://github.com/angular-ui/ui-router">Angular UI-Router</a> to do client-side routing. In particular, it allowed us to do nested views, which <a href="https://docs.angularjs.org/api/ngRoute">ngRoute</a> doesn't allow us to do. Based on what we did in this project, I created a template for using the UI-Router. Find it on Github <a href="https://github.com/acrobat130">here</a> or see the code snippets below for further explanation.</p>

	<p>This is what the UI-Router template looks like when viewed via localhost:
	<img src="assets/nestedView.png" alt="nestedView"/>
	</p>

	<p>The template was created using the following files:</p>
		<ul>
			<li>index.html</li>
			<li>app.js</li>
			<li>view1.html</li>
			<li>view1.js</li>
			<li>nestedView1.html</li>
			<li>nestedView1.js</li>
			<li>nestedView2.html</li>
			<li>nestedView2.js</li>
		</ul>

	<p>Starting with the index, the key elements needed to make this work are:</p>
		<ul>
			<li>Include ng-app="uiRoutingExample" in the opening html tag (or whatever the module in app.js is named)</li>
			<li>Link to angular, the angular-ui-router, and all other javascript files.</li>
			<li>Include a ui-view somewhere on the page. This is where the subsequent views will be loaded.</li>
			<li>Include a ui-sref to the 'view1' state that is defined in app.js. The ui-sref is a reference to a named state that has its own template and controller associated with it.</li>
		</ul>
	<p>partial index.html file:
		<img src="assets/nestedViewIndexHTML.png" alt="index"/>
		<img src="assets/nestedViewIndex.png" alt="index"/>
	</p>
	<p>Inside app.js, we need the following:</p>
		<ul>
			<li>Include an angular module that takes in the ui.router and all other views we will create as dependencies.</li>
			<li>Configure the module, passing in the $stateProvider and $urlRouterProvider to the function. These two elements are needed for the UI-Router to function properly.</li>
			<li>For each state we want to configure, include the state name, url that should show, where to find the html template file for that view, and what controller to user with that state.</li>
			<li>For each nested state, name the state as a child of its parent view (e.g., 'view1.nestedView1').</li>
		</ul>
	<p>app.js file:
		<img src="assets/nestedViewAppJS.png" alt="app.js"/>
	</p>

	<p>When someone clicks on the link in the index.html file, the view1.html file will load into the ui-view tag in index.html. However, we still need a controller for the view1.html to control future logic that may happen in this view. For now, the controller is just a new module that configures the controller.</p>

	<p>view1.js file:
		<img src="assets/nestedViewView1JS.png" alt="view1.js"/>
	</p>

	<p>Inside view1.html is where the first nested view lives. The state for this is already set up in app.js, so view1.html just needs the ability to show that nested view by:</p>
		<ul>
			<li>Add a ui-view to view1.html</li>
			<li>Add ui-sref="view1.nestedView1" so the view1.nestedView1 state will be loaded into the ui-view div on this view when clicked.</li>
		</ul>
	<p>view1.html file:
		<img src="assets/nestedViewView1HTML.png" alt="view1.html"/>
	</p>

	In order to make nestedView2 show up, follow the same process as we did for nestedView1. See the version on my <a href="https://github.com/acrobat130">Github</a> for a working template.

</body>
</html>